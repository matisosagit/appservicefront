{"ast":null,"code":"import React,{useState}from'react';import'./ingreso.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FormularioInicio(_ref){let{agregarNombre,fetchClientes,fetchTelefono}=_ref;const[nombre,setNombre]=useState('');const[contraseña,setContraseña]=useState('');const[mensaje,setMensaje]=useState('');const manejarEnvio=async e=>{e.preventDefault();const verificarUsuario={nombre:nombre,contraseña:contraseña};try{const respuesta=await fetch('/api/usuarios/iniciar-sesion',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(verificarUsuario)});const data=await respuesta.json();if(respuesta.ok){setMensaje(data.message);setNombre('');setContraseña('');agregarNombre(data.usuarioFind.nombre);fetchClientes();fetchTelefono();}else{setMensaje(data.message||'Error al iniciar sesión');}}catch(error){console.error('Algo salió mal',error);setMensaje('Algo salió mal');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:manejarEnvio,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nombre:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nombre,onChange:e=>setNombre(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:contraseña,onChange:e=>setContraseña(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{id:\"btn10\",className:\"inputbox\",type:\"submit\",children:\"Iniciar Sesi\\xF3n\"})]}),mensaje&&/*#__PURE__*/_jsx(\"p\",{children:mensaje})]});};export default FormularioInicio;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","FormularioInicio","_ref","agregarNombre","fetchClientes","fetchTelefono","nombre","setNombre","contraseña","setContraseña","mensaje","setMensaje","manejarEnvio","e","preventDefault","verificarUsuario","respuesta","fetch","method","headers","body","JSON","stringify","data","json","ok","message","usuarioFind","error","console","className","children","onSubmit","type","value","onChange","target","required","id"],"sources":["C:/Users/matia/appservices/front/src/componentes/iniciosesion.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ingreso.css';\r\n\r\nfunction FormularioInicio ({agregarNombre, fetchClientes, fetchTelefono}) {\r\n    const [nombre, setNombre] = useState('');\r\n    const [contraseña, setContraseña] = useState('');\r\n    const [mensaje, setMensaje] = useState('');\r\n\r\n    const manejarEnvio = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const verificarUsuario = {\r\n            nombre: nombre,\r\n            contraseña: contraseña\r\n        };\r\n\r\n        try{\r\n            const respuesta = await fetch('/api/usuarios/iniciar-sesion', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(verificarUsuario)\r\n            });\r\n\r\n            const data = await respuesta.json();\r\n\r\n            if (respuesta.ok){\r\n                setMensaje(data.message);\r\n                setNombre('');\r\n                setContraseña('');\r\n                agregarNombre(data.usuarioFind.nombre);\r\n                fetchClientes();\r\n                fetchTelefono();\r\n            }else{\r\n                setMensaje(data.message || 'Error al iniciar sesión');\r\n            }\r\n        }catch(error){\r\n            console.error('Algo salió mal', error);\r\n            setMensaje('Algo salió mal');\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div className='center'>\r\n            <h1>Iniciar sesión</h1>\r\n            <form onSubmit={manejarEnvio}>\r\n                <div className='inputbox'>\r\n                    <span>Nombre:</span>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={nombre}\r\n                        onChange={(e) => setNombre(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='inputbox'>\r\n                    <span>Contraseña:</span>\r\n                    <input\r\n                        type='password'\r\n                        value={contraseña}\r\n                        onChange={(e) => setContraseña(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button id='btn10' className='inputbox' type=\"submit\">Iniciar Sesión</button>\r\n\r\n            </form>\r\n            {mensaje && <p>{mensaje}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FormularioInicio;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}